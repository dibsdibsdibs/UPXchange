CREATE DATABASE xchange;

CREATE TABLE users(
    user_id INT NOT NULL AUTO_INCREMENT,
    email VARCHAR(64) NOT NULL,
    password VARCHAR(64) NOT NULL,
    PRIMARY KEY (user_id)
);

CREATE TABLE profiles(
    profile_id INT NOT NULL AUTO_INCREMENT,
    user INT NOT NULL,
    PRIMARY KEY (profile_id)
);

CREATE TABLE questions (
    question_id INT NOT NULL AUTO_INCREMENT,
    question TEXT NOT NULL,
    details TEXT,
    time_posted TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (question_id)
);

CREATE TABLE tags (
    tag_id INT NOT NULL AUTO_INCREMENT,
    tags TEXT,
    question_id INT,
    PRIMARY KEY (tag_id)
);

CREATE TABLE replies(
    reply_id INT NOT NULL AUTO_INCREMENT,
    reply TEXT,
    vote INT NOT NULL,
    question_id INT,
    user_id INT,
    time_posted TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (reply_id)
);

CREATE TABLE uservotes(
    vote_id INT NOT NULL AUTO_INCREMENT,
    reply_id INT NOT NULL,
    user_id INT NOT NULL,
    vote INT NOT NULL,
    PRIMARY KEY (vote_id)
)

CREATE TABLE reports(
    report_id INT NOT NULL AUTO_INCREMENT,
    title TEXT NOT NULL,
    details TEXT,
    time_posted TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    user_id INT NOT NULL,
    PRIMARY KEY (report_id)
)
